"use strict";(self.webpackChunkreact_phonebook_mui=self.webpackChunkreact_phonebook_mui||[]).push([[282],{7282:(e,n,t)=>{t.r(n),t.d(n,{default:()=>se});var o=t(2555),r=t(5043),a=t(9456),i=t(9998),s=t(6977),l=t(3892),c=t(899);const d=e=>e.contacts.items,x=e=>e.contacts.filter,p=e=>e.contacts.isLoading;var h,u,m,f,g=t(7528),b=t(5903),A=t(4966),j=t(3404);const y=b.A.form(h||(h=(0,g.A)(["\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  padding: 20px;\n"]))),w=b.A.div(u||(u=(0,g.A)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n"]))),v=(0,b.A)(A.A)(m||(m=(0,g.A)(["\n  & input {\n    font-size: 20px;\n    color: white;\n  }\n\n  & label {\n    font-size: 20px;\n    color: white;\n  }\n"]))),C=(0,b.A)(j.A)(f||(f=(0,g.A)(["\n  border-radius: 4px;\n  width: 180px;\n  height: 40px;\n  text-align: center;\n  border: none;\n  font-size: 16px;\n  font-weight: 600;\n  background-color: #3f51b5;\n  color: white;\n  margin: 0 auto;\n\n    &:hover {\n    background-color: #3f51b5;\n  }\n"])));var S=t(5865),k=t(6597),z=t(579);const W=()=>{const e=(0,a.wA)(),n=(0,a.d4)(d),t=(0,c.Ik)({name:(0,c.Yj)().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe and spaces.").required("Name is required"),phone:(0,c.Yj)().matches(/^\d{3}-\d{2}-\d{2}$/,"The phone number must consist of numbers and a dash ###-##-##").required("Phone number is required")}),o=(0,l.Wx)({initialValues:{name:"",phone:""},onSubmit:async(t,r)=>{let{setSubmitting:a,setErrors:i,resetForm:l}=r;try{const{name:r,phone:a}=t,i=r.toLowerCase().trim();if(n.some((e=>e.name.toLowerCase().trim()===i)))return void o.setFieldError("name","Contact ".concat(t.name," already exists"));await e((0,s.IP)({name:r,phone:a})).unwrap(),l()}catch(c){i({submit:c.message})}finally{a(!1)}},validationSchema:t});return(0,z.jsxs)(y,{onSubmit:o.handleSubmit,children:[(0,z.jsxs)(w,{children:[(0,z.jsx)(S.A,{variant:"h4",fontWeight:"400",color:"white",children:"CONTACTS"}),(0,z.jsx)(v,{fullWidth:!0,type:"text",name:"name",label:"Name",autoComplete:"off",value:o.values.name,onChange:o.handleChange,disabled:o.isSubmitting,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name,variant:"filled",required:!0}),(0,z.jsx)(v,{fullWidth:!0,type:"text",name:"phone",label:"Number phone",autoComplete:"off",value:o.values.phone,onChange:o.handleChange,disabled:o.isSubmitting,error:o.touched.phone&&Boolean(o.errors.phone),helperText:o.touched.phone&&o.errors.phone,variant:"filled",required:!0})]}),o.errors.submit&&(0,z.jsx)(S.A,{color:"error",children:o.errors.submit}),(0,z.jsx)(C,{type:"submit",variant:"contained",startIcon:(0,z.jsx)(k.A,{}),disabled:o.isSubmitting,children:"Add Contact"})]})};var F=t(35),R=t(6600),Y=t(5316),I=t(8533),q=t(9347),N=t(3102);const _=e=>{let{open:n,onClose:t,onConfirm:o}=e;return(0,z.jsxs)(F.A,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{"& .MuiPaper-root":{width:"50%",minWidth:"300px",maxWidth:"344px",backgroundColor:"transparent",border:"1px solid rgb(236, 236, 236)",borderRadius:"10px",padding:"10px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 25px 20px -20px",backdropFilter:"blur(10px)"}},children:[(0,z.jsxs)(R.A,{id:"alert-dialog-title",sx:{fontSize:"20px",padding:"10px 14px",fontWeight:"bold",color:"#d32f2f",display:"flex",alignItems:"center",gap:"10px"},children:[(0,z.jsx)(N.A,{viewBox:"0 0 24 26"}),"Deletion confirmation"]}),(0,z.jsx)(Y.A,{sx:{padding:"10px 14px"},children:(0,z.jsx)(I.A,{id:"alert-dialog-description",sx:{fontSize:"16px",color:"white",textShadow:"2px 2px 4px black"},children:"Are you sure you want to delete this contact? This action is not allowed cancel."})}),(0,z.jsxs)(q.A,{children:[(0,z.jsx)(j.A,{onClick:t,color:"primary",sx:{fontSize:"14px",color:"white",fontWeight:"bold",textShadow:"2px 2px 4px black","&:hover":{transform:"scale(1.05)"}},children:"Cancel"}),(0,z.jsx)(j.A,{onClick:o,color:"error",sx:{fontSize:"14px",textShadow:"2px 2px 4px black","&:hover":{color:"red",fontWeight:"bold",transform:"scale(1.05)"}},autoFocus:!0,children:"Delete"})]})]})};var M,T,E=t(1322),L=t(3851),P=t(1045),B=t(8569),D=t(4149),O=t(6649);const Z=(0,b.A)(j.A)(M||(M=(0,g.A)(["\n  border-radius: 4px;\n  min-width: 90px;\n  height: 30px;\n  text-align: center;\n  border: none;\n  font-size: 12px;\n  background-color: #3f51b5;\n  color: white;\n  margin: 0 auto;\n\n  &:hover {\n    background-color: #3f51b5;\n  }\n"]))),$=(0,b.A)(S.A)(T||(T=(0,g.A)(["\n  font-size: 18px;\n  color: white;\n  text-shadow: 2px 2px 4px black;\n"]))),H={transition:"opacity 300ms ease-out, transform 300ms ease-out"},V={container:{opacity:0,transform:"translateY(-20px)"},entered:(0,o.A)({opacity:1,transform:"translateY(0)"},H),exited:(0,o.A)({opacity:0,transform:"translateY(-20px)"},H)},G=e=>{let{contact:n}=e;const t=(0,a.wA)(),l=(0,r.useRef)(null),[c,d]=(0,r.useState)(!0),[x,p]=(0,r.useState)(!1),h=(0,r.useRef)(null);return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(i.Ay,{in:c,appear:!0,timeout:300,nodeRef:l,children:e=>(0,z.jsxs)(E.Ay,{ref:l,style:(0,o.A)((0,o.A)({padding:"0 0 5px"},V.container),"entered"===e?(0,o.A)({},V.entered):(0,o.A)({},V.exited)),children:[(0,z.jsx)(L.A,{children:(0,z.jsx)(P.A,{sx:{bgcolor:"#3f51b5"},children:(0,z.jsx)(D.A,{})})}),(0,z.jsx)(B.A,{children:(0,z.jsx)($,{children:"".concat(n.name," : ").concat(n.phone)})}),(0,z.jsx)(Z,{ref:h,variant:"outlined",startIcon:(0,z.jsx)(O.A,{}),type:"button",name:"delete",onClick:()=>{p(!0)},children:"Delete"}),(0,z.jsx)(_,{open:x,onClose:()=>p(!1),onConfirm:()=>(async e=>{try{const n=await t((0,s.MO)(e));s.MO.rejected.match(n)?d(!0):(d(!1),p(!1))}catch(n){d(!0)}h.current&&h.current.focus()})(n._id)})]})},n._id)})};var J;const K=b.A.div(J||(J=(0,g.A)(["\n  padding: 10px 20px 20px;\n  text-align: center;\n\n  font-size: 16px;\n  font-weight: 600;\n  color: orange;\n"])));var Q=t(5721),U=t(9135);const X=()=>{const e=(0,a.d4)(x),n=(0,a.d4)(d),t=(0,a.d4)(p),[o,i]=(0,r.useState)(1),s=((e,n)=>e.filter((e=>e.name.toLowerCase().includes(n.toLowerCase()))))(n,e),l=5*(o-1),c=s.slice(l,l+5);return(0,r.useEffect)((()=>{o>1&&0===c.length&&i((e=>e-1))}),[c,o]),(0,z.jsx)(z.Fragment,{children:t||0!==n.length?(0,z.jsxs)(z.Fragment,{children:[!t&&0===s.length&&(0,z.jsx)(K,{children:"You don't have such a contact \ud83d\ude2f"}),(0,z.jsx)(Q.A,{sx:{padding:"20px 20px 0"},children:c.map((e=>(0,z.jsx)(G,{contact:e},e._id)))}),s.length>5&&(0,z.jsx)(U.A,{count:Math.ceil(s.length/5),page:o,onChange:(e,n)=>{i(n)},sx:{display:"flex",justifyContent:"center",padding:"5px","& .MuiPaginationItem-previousNext":{color:"#3f51b5"},"& .MuiPaginationItem-page":{color:"#3f51b5"}}})]}):(0,z.jsx)(K,{children:"You do not have contacts \ud83d\ude2f"})})};var ee,ne,te=t(2714);const oe=b.A.div(ee||(ee=(0,g.A)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n\n  padding: 0 20px;\n"]))),re=(0,b.A)(A.A)(ne||(ne=(0,g.A)(["\n  & input {\n    font-size: 20px;\n    color: white;\n  }\n\n  & label {\n    font-size: 20px;\n    color: white;\n  }\n"]))),ae=()=>{const e=(0,a.wA)(),n=(0,a.d4)(x);return(0,z.jsxs)(oe,{children:[(0,z.jsx)(S.A,{variant:"h5",fontWeight:"400",color:"white",children:"Find contacts by name"}),(0,z.jsx)(re,{fullWidth:!0,type:"text",label:"Enter Name",variant:"filled",autoComplete:"off",value:n,onChange:n=>e((0,te.R6)(n.target.value))})]})},ie={container:{display:"flex",flexDirection:"column",width:"440px",border:"1px solid rgb(236, 236, 236)",borderRadius:"10px",boxShadow:"rgba(0, 0, 0, 0.45) 0px 25px 20px -20px",backdropFilter:"blur(10px)",marginBottom:"20px",opacity:0,transform:"translateY(-20px)"},entered:{opacity:1,transform:"translateY(0)",transition:"opacity 300ms ease-out, transform 300ms ease-out"},message:{padding:"0 20px 20px",textAlign:"center",fontSize:"16px",fontWeight:"600",color:"orange"},section:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"}},se=()=>{const e=(0,a.wA)(),n=(0,a.d4)(p),t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e((0,s.oe)())}),[e]),(0,z.jsx)("section",{style:ie.section,children:(0,z.jsx)(i.Ay,{in:!0,appear:!0,timeout:300,nodeRef:t,children:e=>(0,z.jsxs)("div",{ref:t,style:(0,o.A)((0,o.A)({},ie.container),"entered"===e&&(0,o.A)({},ie.entered)),children:[(0,z.jsx)(W,{}),(0,z.jsx)(ae,{}),(0,z.jsx)(X,{}),n&&(0,z.jsx)("div",{style:ie.message,children:"Request in progress...\ud83d\udc4c"})]})})})}}}]);
//# sourceMappingURL=282.72f2f9dd.chunk.js.map